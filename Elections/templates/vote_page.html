{% extends "base.html" %}
{% block title %}Cast Your Vote{% endblock %}

{% block content %}
<div class="container mt-5 text-light">

    <h2>Vote in: {{ election.title }}</h2>
    <hr>

    <form method="POST">
        {% csrf_token %}

        {% for pos in positions %}
        <div class="card mb-4 bg-dark text-light">
            <div class="card-header">
                <strong>{{ pos.name }}</strong>
            </div>
            <div class="card-body">
                {% for candidate in pos.candidates.all %}
                <div class="form-check">
                    <input class="form-check-input" type="radio"
                        name="choice_{{ pos.id }}"
                        value="{{ candidate.id }}"
                        id="cand{{ candidate.id }}">
                    <label class="form-check-label" for="cand{{ candidate.id }}">
                        {{ candidate.name }}
                    </label>
                </div>
                {% empty %}
                <p class="text-warning">No candidates for this position.</p>
                {% endfor %}
            </div>
        </div>
        {% endfor %}

        <button class="btn btn-primary mt-3" type="submit">Submit Vote</button>
    </form>

</div>
{% endblock %}
